CXX ?= g++
#OPENCV_LIB ?= -rdynamic ./lib/libopencv_core.so.3.2 ./lib/libopencv_imgproc.so.3.2 ./lib/libopencv_videoio.so.3.2 ./lib/libopencv_imgcodecs.so.3.2 ./lib/libopencv_stitching.so.3.2 ./lib/libopencv_highgui.so.3.2 -L./lib -Wl,-rpath=./src/lib -I.
OPENCV_LIB ?= -rdynamic /usr/local/lib/libopencv_core.a /usr/local/lib/libopencv_imgproc.a /usr/local/lib/libopencv_flann.a /usr/local/lib/libopencv_imgcodecs.a /usr/local/lib/libopencv_videoio.a /usr/local/lib/libopencv_highgui.a /usr/local/lib/libopencv_ml.a /usr/local/lib/libopencv_video.a /usr/local/lib/libopencv_objdetect.a /usr/local/lib/libopencv_photo.a /usr/local/lib/libopencv_features2d.a /usr/local/lib/libopencv_calib3d.a /usr/local/lib/libopencv_stitching.a /usr/local/lib/libopencv_videostab.a /usr/local/lib/libopencv_shape.a /usr/local/lib/libopencv_calib3d.a /usr/local/lib/libopencv_core.a /usr/local/lib/libopencv_features2d.a /usr/local/lib/libopencv_flann.a /usr/local/lib/libopencv_highgui.a /usr/local/lib/libopencv_imgcodecs.a /usr/local/lib/libopencv_imgproc.a /usr/local/lib/libopencv_ml.a /usr/local/lib/libopencv_objdetect.a /usr/local/lib/libopencv_photo.a /usr/local/lib/libopencv_shape.a /usr/local/lib/libopencv_stitching.a /usr/local/lib/libopencv_superres.a /usr/local/lib/libopencv_video.a /usr/local/lib/libopencv_videoio.a /usr/local/lib/libopencv_videostab.a /usr/local/lib/libopencv_aruco.a /usr/local/lib/libopencv_bgsegm.a /usr/local/lib/libopencv_bioinspired.a /usr/local/lib/libopencv_ccalib.a /usr/local/lib/libopencv_datasets.a /usr/local/lib/libopencv_dnn.a /usr/local/lib/libopencv_dpm.a /usr/local/lib/libopencv_face.a /usr/local/lib/libopencv_freetype.a /usr/local/lib/libopencv_fuzzy.a /usr/local/lib/libopencv_hdf.a /usr/local/lib/libopencv_line_descriptor.a /usr/local/lib/libopencv_optflow.a /usr/local/lib/libopencv_phase_unwrapping.a /usr/local/lib/libopencv_plot.a /usr/local/lib/libopencv_reg.a /usr/local/lib/libopencv_rgbd.a /usr/local/lib/libopencv_saliency.a /usr/local/lib/libopencv_stereo.a /usr/local/lib/libopencv_structured_light.a /usr/local/lib/libopencv_surface_matching.a /usr/local/lib/libopencv_text.a /usr/local/lib/libopencv_tracking.a /usr/local/lib/libopencv_xfeatures2d.a /usr/local/lib/libopencv_ximgproc.a /usr/local/lib/libopencv_xobjdetect.a /usr/local/lib/libopencv_xphoto.a /usr/local/lib/libopencv_shape.a -lhdf5 -lpthread -ldl -lm /usr/local/lib/libopencv_phase_unwrapping.a /usr/local/lib/libopencv_rgbd.a /usr/local/lib/libopencv_calib3d.a /usr/local/lib/libopencv_video.a /usr/local/lib/libopencv_datasets.a /usr/local/lib/libopencv_dnn.a /usr/local/share/OpenCV/3rdparty/lib/liblibprotobuf.a /usr/local/lib/libopencv_face.a /usr/local/lib/libopencv_plot.a /usr/local/lib/libopencv_text.a /usr/local/lib/libopencv_features2d.a /usr/local/lib/libopencv_flann.a /usr/local/lib/libopencv_objdetect.a /usr/local/lib/libopencv_ml.a /usr/local/lib/libopencv_highgui.a /usr/local/lib/libopencv_videoio.a /usr/local/lib/libopencv_imgcodecs.a -ljpeg -lwebp -lpng -ltiff -ljasper -ljpeg -lwebp -lpng -ltiff -ljasper -lImath -lIlmImf -lIex -lHalf -lIlmThread -lavcodec -lavformat -lavutil -lswscale -lgtk-x11-2.0 -lgdk-x11-2.0 -latk-1.0 -lgio-2.0 -lpangoft2-1.0 -lpangocairo-1.0 -lgdk_pixbuf-2.0 -lcairo -lpango-1.0 -lfontconfig -lgobject-2.0 -lglib-2.0 -lfreetype -lgthread-2.0 -ldc1394 /usr/local/lib/libopencv_photo.a /usr/local/lib/libopencv_imgproc.a /usr/local/lib/libopencv_core.a -lz -lstdc++ -ldl -lm -lpthread -lrt /usr/local/share/OpenCV/3rdparty/lib/libippicv.a 

CXXFLAGS += -c -Wall -levent -pthread 
LDFLAGS +=  $(OPENCV_LIB) -levent -pthread 

all: Picture_Stitch

Picture_Stitch: sticth_detail.o video.o Picture_Stitch.o; $(CXX) sticth_detail.o video.o Picture_Stitch.o -o $@ $(LDFLAGS)

%.o: %.cpp ; $(CXX) $< -o $@ $(CXXFLAGS)

clean: ; rm -f Picture_Stitch.o sticth_detail.o video.o Picture_Stitch
